(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(28),i=a.n(r),s=(a(92),a(16)),l=a(36),c=a(19),d=a(32),g=a(60),m=a(38),p=a(52);class u extends o.a.PureComponent{constructor(){super(...arguments),this.state={active:"container"}}componentDidMount(){let e=this.props.location.pathname;"/"===e&&(e="containers"),this.setState({active:e.replace("/","")})}navButton(e,t){return o.a.createElement(d.a,{display:"flex",alignItems:"center"},o.a.createElement(g.a,{size:14,color:"muted",icon:t,marginRight:5}),e)}render(){const{active:e}=this.state;return o.a.createElement(m.a,{display:"flex",justifyContent:"center",padding:26,background:"#f9f9fc"},o.a.createElement(p.a,{height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopRightRadius:0,appearance:"containers"===e?"primary":"default",borderBottomRightRadius:0,is:l.b,to:"/",onClick:()=>this.setState({active:"containers"})},o.a.createElement(g.a,{icon:"layers",marginRight:5,size:14})," Container"),o.a.createElement(p.a,{height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,appearance:"images"===e?"primary":"default",borderBottomRightRadius:0,is:l.b,to:"/images",onClick:()=>this.setState({active:"images"})},o.a.createElement(g.a,{icon:"projects",marginRight:5,size:14})," Image"),o.a.createElement(p.a,{height:48,width:250,justifyContent:"center",alignItems:"center",fontSize:14,borderTopLeftRadius:0,appearance:"default",borderBottomLeftRadius:0,appearance:"cleanup"===e?"primary":"default",is:l.b,to:"/cleanup",onClick:()=>this.setState({active:"cleanup"})},o.a.createElement(g.a,{icon:"shield",marginRight:5,size:14})," Clean-up"))}}var h=Object(c.f)(u),E=a(202),f=a(180),b=a(15),S=a(13),I=a(80),w=a.n(I);const C=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={method:e,data:a,url:"/api/"+t,timeout:5e4};return w()(n)};var y=a(200);const x=e=>({type:"GENERIC_CONTAINER",payload:e}),v=e=>({type:"UPDATE_CONTAINER",payload:e}),L=e=>({type:"UPDATE_LOG",payload:e}),O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"active";return t=>{t(x({loading:e,pageError:!1,segment:e,activeIndex:0,containerListLoading:!0})),C("get","container/fetch?status=".concat(e),{}).then(e=>{t(x({loading:!1,containers:e.data,pageError:!1,containerListLoading:!1}))}).catch(e=>{t(x({loading:!1,pageError:!0,containerListLoading:!1}))})}},G=(e,t,a)=>n=>{n(v({containerId:e.shortId,data:{stateToggling:!0}})),C("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(o=>{const r=Object(S.a)(Object(S.a)({},e.State),{Running:"start"===t});n(v({containerId:e.shortId,data:{State:r,stateToggling:!1}})),a||y.a.success("Container ".concat(e.Name," has been ").concat("start"===t?"started":"stopped","."),{duration:5})}).catch(a=>{n(v({containerId:e.shortId,data:{stateToggling:!1}})),y.a.warning("There is problem ".concat("start"===t?"starting":"stopping"," container ").concat(e.Name),{duration:5})})},j=(e,t)=>a=>{a(v({containerId:e.shortId,data:{stateToggling:!0,State:Object(S.a)(Object(S.a)({},e.State),{Running:!1})}})),C("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(t=>{a(v({containerId:e.shortId,data:{State:Object(S.a)(Object(S.a)({},e.State),{Running:!0}),stateToggling:!1}})),y.a.success("Container ".concat(e.Name," has been restarted."),{duration:5})}).catch(t=>{a(v({containerId:e.shortId,data:{State:Object(S.a)(Object(S.a)({},e.State),{Running:!1}),stateToggling:!1}})),y.a.warning("There is problem restarting container ".concat(e.Name),{duration:5})})},D=(e,t)=>(a,n)=>{C("get","container/command?container=".concat(e.shortId,"&command=").concat(t)).then(t=>{a({type:"DELETE_CONTAINER",payload:{containerId:e.shortId,showModal:!n().container.showModal,selectedContainer:{}}}),y.a.success("Container ".concat(e.Name," is no more!!!."),{duration:5})})},R=e=>t=>{t(L({container:e,isShowingSideSheet:!1})),C("get","container/logs?container=".concat(e.shortId)).then(a=>{t(L({container:e,isShowingSideSheet:!0,logData:a.data}))})},T=()=>(e,t)=>{e(L({isShowingSideSheet:!t().container.isShowingSideSheet}))},N=e=>(t,a)=>{t({type:"TOGGLE_MODAL",payload:{showModal:!a().container.showModal,selectedContainer:e||{}}})};var M=a(81),P={stats:{containerStats:[],isLive:!1},groups:{groups:[],selectedItems:[],showGroupsPage:!1,showNewGroupForm:!1,activeIndex:0,newGroupName:"",createFormLoading:!1,groupListLoading:!0,groupsRunning:[],groupsSwitchDisabled:[]},container:{containers:[],loading:!1,containerListLoading:!0,pageError:!1,segment:"active",activeIndex:0,isShowingSideSheet:!1,logData:{},showModal:!1,selectedContainer:{}},image:{images:[],loading:!1,pageError:!1,activeIndex:0,isShowingSideSheet:!1,logData:{},showModal:!1,selectedImage:{}},cleanup:{segmentOptions:[{label:"Prune Images",value:"image",message:"This action will allow you to clean up unused images. It cleans up dangling images. A dangling image is one that is not tagged and is not referenced by any container."},{label:"Prune Containers",value:"container",message:"When you stop a container, it is not automatically removed unless you started it with the --rm flag. A stopped container\u2019s writable layers still take up disk space."},{label:"Prune Volumes",value:"volume",message:"Volumes can be used by one or more containers, and take up space on the Docker host. Volumes are never removed automatically, because to do so could destroy data."},{label:"Prune System",value:"system",message:"Remove all unused containers, networks, images (both dangling and unreferenced), and optionally, volumes."}],selectedSegment:{label:"Prune Images",value:"image",message:"This action will allow you to clean up unused images. It cleans up dangling images. A dangling image is one that is not tagged and is not referenced by any container."},responseData:{},isShowingSideSheet:!1,apiCallStarted:!1}};const k=Object(b.c)({stats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_STATS":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}},groups:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_GROUPS":return Object(S.a)(Object(S.a)({},e),t.payload);default:return e}},container:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_CONTAINER":return Object(S.a)(Object(S.a)({},e),t.payload);case"UPDATE_CONTAINER":return Object(S.a)(Object(S.a)({},e),{containers:e.containers.map(e=>e.shortId==t.payload.containerId?Object(S.a)(Object(S.a)({},e),t.payload.data):e)});case"DELETE_CONTAINER":return Object(S.a)(Object(S.a)({},e),{containers:e.containers.filter(e=>e.shortId!==t.payload.containerId),showModal:t.payload.showModal,selectedContainer:t.payload.selectedContainer});case"UPDATE_LOG":return Object(S.a)(Object(S.a)({},e),{logData:t.payload.logData&&t.payload.container?{container:t.payload.container,data:t.payload.logData}:{},isShowingSideSheet:t.payload.isShowingSideSheet});case"TOGGLE_MODAL":return Object(S.a)(Object(S.a)({},e),{showModal:t.payload.showModal,selectedContainer:t.payload.selectedContainer});default:return e}},image:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENERIC_IMAGE":return Object(S.a)(Object(S.a)({},e),t.payload);case"RUN_IMAGE":return Object(S.a)(Object(S.a)({},e),{images:e.images.map(e=>e.ID==t.payload.imageId?Object(S.a)(Object(S.a)({},e),t.payload.data):e)});case"DELETE_IMAGE":return Object(S.a)(Object(S.a)({},e),{images:e.images.filter(e=>t.payload.imageId?e.ID!==t.payload.imageId:e),showModal:t.payload.showModal,selectedImage:t.payload.selectedImage});case"TOGGLE_IMAGE_MODAL":return Object(S.a)(Object(S.a)({},e),{showModal:t.payload.showModal,selectedImage:t.payload.selectedImage});default:return e}},cleanup:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_SEGMENT":return Object(S.a)(Object(S.a)({},e),{selectedSegment:e.segmentOptions.find(e=>e.value===t.payload.segmentValue)});case"EXECUTE_PRUNE":return Object(S.a)(Object(S.a)({},e),{isShowingSideSheet:t.payload.isShowingSideSheet,responseData:t.payload.responseData?{data:t.payload.responseData}:{},apiCallStarted:t.payload.apiCallStarted});default:return e}}});const A=[M.a];const z=Object(b.d)((e,t)=>k(e,t),P,Object(b.a)(...A)),_=e=>({type:"GENERIC_GROUPS",payload:e}),B=e=>t=>{const a=z.getState().groups.selectedItems;if(a.includes(e)){const n=a.filter(t=>t!=e);t(_({selectedItems:n}))}else{const n=[...a,e];t(_({selectedItems:n}))}},F=(e,t,a)=>n=>{const o=z.getState().groups[e];if(a){const a=o.filter(e=>e!=t);n(_({[e]:a}))}else{const a=[...o,t];n(_({[e]:a}))}},U=e=>t=>{t(_({createFormLoading:!0})),C("post","groups",{name:e.newGroupName,containers:e.selectedItems}).then(e=>{setTimeout(()=>{t(_({newGroupName:"",selectedItems:[],showGroupsPage:!0,showNewGroupForm:!1,createFormLoading:!1}))},1200)})},W=()=>e=>{e(_({groupListLoading:!0})),C("get","groups",{}).then(t=>{e(_({groups:t.data,groupListLoading:!1}))})},V=e=>t=>{C("delete","groups",{id:e}).then(e=>{t(W())})};var H=a(194);class J extends o.a.PureComponent{constructor(){super(...arguments),this.state={toggleLink:!1}}handleSubmit(){const{createGroup:e,newGroupName:t,selectedItems:a}=this.props;e({newGroupName:t,selectedItems:a})}render(){const{selectedItems:e,newGroupName:t,genericGroups:a,createFormLoading:n}=this.props;return o.a.createElement(m.a,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(m.a,null,o.a.createElement(H.a,{name:"text-input-name",placeholder:"New Group Name",height:26,display:"flex",flexGrow:1,onChange:e=>{a({newGroupName:e.target.value})},value:t}),this.state.toggleLink&&o.a.createElement(H.a,{name:"text-input-name",placeholder:"URL of the application",height:26,marginTop:6,display:"flex",flexGrow:1,onChange:e=>{a({newGroupName:e.target.value})},value:t})),o.a.createElement(m.a,{display:"flex",style:{height:"100%"}},o.a.createElement(p.a,{height:26,appearance:"primary",marginLeft:6,intent:"success",disabled:e.length<=0||""===t,isLoading:n,onClick:e=>{e.preventDefault(),this.handleSubmit()}},"Create Group")))}}var X=Object(s.b)(e=>({newGroupName:e.groups.newGroupName,selectedItems:e.groups.selectedItems,createFormLoading:e.groups.createFormLoading}),e=>Object(b.b)({createGroup:U,genericGroups:_},e))(J);class Y extends o.a.PureComponent{containerFilters(){const{loading:e,segment:t,getContainers:a}=this.props;return o.a.createElement(E.a,{width:400,height:26,options:[{label:"all"===e?o.a.createElement(f.a,{size:16}):"All",value:"all"},{label:"active"===e?o.a.createElement(f.a,{size:16}):"Active",value:"active"},{label:"stopped"===e?o.a.createElement(f.a,{size:16}):"Stopped",value:"stopped"}],value:t,onChange:e=>{a(e)}})}newGroupButton(){const{showNewGroupForm:e,genericGroups:t,getContainers:a}=this.props;return o.a.createElement(p.a,{marginRight:12,iconBefore:"add",paddingLeft:35,paddingRight:30,height:26,onClick:()=>{const n=!e;t({showGroupsPage:!1,showNewGroupForm:n}),n&&a("all")}},"Create New GROUP again")}groupsToggler(){const{genericGroups:e,showGroupsPage:t,showNewGroupForm:a}=this.props,n=t||a;return o.a.createElement(p.a,{marginRight:12,iconBefore:n?"chevron-left":"tag",paddingLeft:35,paddingRight:30,height:26,onClick:()=>{e({showGroupsPage:!t,showNewGroupForm:!1})}},n?"Back":"Groups")}renderBody(){const{showNewGroupForm:e,showGroupsPage:t}=this.props;return e?o.a.createElement(X,null):t?this.newGroupButton():this.containerFilters()}render(){return o.a.createElement(m.a,{backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",padding:10},this.groupsToggler(),this.renderBody())}}var Z=Object(s.b)(e=>({segment:e.container.segment,loading:e.container.loading,showGroupsPage:e.groups.showGroupsPage,showNewGroupForm:e.groups.showNewGroupForm}),e=>Object(b.b)({getContainers:O,genericGroups:_},e))(Y),q=a(181),K=a(203),Q=(a(45),a(195));class $ extends o.a.PureComponent{render(){const{container:e,toggleContainer:t}=this.props,a=e.State.Running?"stop":"start",n=!!e.stateToggling;return o.a.createElement(Q.a,{marginRight:10,height:18,marginTop:2,checked:e.State.Running,disabled:n,onChange:()=>{t(e,a)}})}}var ee=Object(s.b)(null,e=>Object(b.b)({toggleContainer:G},e))($),te=a(196);class ae extends o.a.PureComponent{render(){const{groupItemSelector:e,selectedItems:t}=this.props,a=this.props.container.shortId,n=t.includes(a);return o.a.createElement(te.a,{marginRight:15,marginTop:0,marginBottom:0,checked:n,onChange:()=>{e(a)}})}}var ne=Object(s.b)(e=>({selectedItems:e.groups.selectedItems}),e=>Object(b.b)({groupItemSelector:B},e))(ae);class oe extends o.a.PureComponent{render(){const{container:e,restartContainer:t}=this.props,a=!!e.stateToggling;return o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"refresh",disabled:a,onClick:()=>{t(e,"restart")}},"Restart")}}var re=Object(s.b)(null,e=>Object(b.b)({restartContainer:j},e))(oe);class ie extends o.a.PureComponent{getMemoryUsage(e){[e]=e.split("/");let t=e.replace(/[a-zA-Z]/g,"").trim();return Number(t).toFixed(1)+"mb"}renderBadges(){const{stats:e,containerID:t}=this.props,a=e.find(e=>e.id===t);return a?o.a.createElement(o.a.Fragment,null,o.a.createElement(K.a,{backgroundColor:"#deebf7",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"cpu ",a.cpu_percentage),o.a.createElement(K.a,{backgroundColor:"#ebe7f8",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"ram ",this.getMemoryUsage(a.memory_usage)),o.a.createElement(K.a,{backgroundColor:"#ebe7f8",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},"net ",this.getMemoryUsage(a.network_io))):null}render(){return this.renderBadges()}}var se=Object(s.b)(e=>({stats:e.stats.containerStats}),null)(ie),le=a(199),ce=a(82);le.a.locale(ce);const de=new le.a("en-US");var ge=e=>{const t=de.format(new Date(e.time),"twitter");return o.a.createElement(K.a,{backgroundColor:"#d4eee3",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},""===t.trim()?"now":t)};class me extends o.a.PureComponent{actionButtons(e){const{container:t,showNewGroupForm:a,toggleDeleteModal:n,getLog:r}=this.props;if(!a)return e?o.a.createElement(m.a,{display:"flex",marginTop:12,marginLeft:46},o.a.createElement(re,{container:t}),o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"application",onClick:()=>{r(t)}},"Log"),o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"trash",disabled:t.State.Running,onClick:()=>{n(t)}},"Delete")):null}renderStats(e){const{showNewGroupForm:t}=this.props;if(!t&&e.State.Running)return o.a.createElement(se,{containerID:e.shortId})}renderInfo(e){const{showStatsInNewLine:t}=this.props,a=t?35:0,n=t?5:0;return o.a.createElement(m.a,{display:"flex",marginLeft:a,marginTop:n},this.renderStats(e))}render(){const{container:e,activeIndex:t,genericContainer:a,index:n,showNewGroupForm:r,noHoverStyle:i,showStatsInNewLine:s}=this.props,l=t==n;let c="element-card";i||l&&(c+=" card-active");const d=s?"column":"row";return o.a.createElement(m.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:c,onMouseEnter:()=>a({activeIndex:n})},o.a.createElement(m.a,{display:"flex",flexDirection:d},o.a.createElement(m.a,{display:"flex",alignItems:"flex-start"},r?o.a.createElement(ne,{container:e}):o.a.createElement(ee,{container:e}),o.a.createElement(q.a,{size:400},e.Name),o.a.createElement(K.a,{backgroundColor:"#e7e9ef",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},e.shortId),o.a.createElement(ge,{time:e.Created})),this.renderInfo(e)),this.actionButtons(l))}}var pe=Object(s.b)(e=>({activeIndex:e.container.activeIndex,showNewGroupForm:e.groups.showNewGroupForm}),e=>Object(b.b)({genericContainer:x,getLog:R,toggleDeleteModal:N},e))(me);class ue extends o.a.PureComponent{componentDidMount(){this.props.getContainers(this.props.segment),console.log("log this.props:",this.props)}render(){const{containers:e}=this.props;return o.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},e.map((e,t)=>o.a.createElement(pe,{key:t,index:t,container:e})))}}var he=Object(s.b)(e=>({segment:e.container.segment,containers:e.container.containers}),e=>Object(b.b)({getContainers:O},e))(ue);a(176);class Ee extends o.a.PureComponent{isRunning(){const{containers:e}=this.props,t=e.filter(e=>!0===e.State.Running);return e.length===t.length}isLoading(){const{containers:e}=this.props;return 0===e.filter(e=>!!e.stateToggling)}toggleAllContainers(){const{containers:e,toggleContainer:t,genericGroups:a,groupIndex:n}=this.props,o=this.isRunning()?"stop":"start";a({activeIndex:n}),e.map(e=>{t(e,o,!0)})}render(){const e=this.isRunning();return o.a.createElement(Q.a,{marginRight:10,height:22,marginTop:2,checked:e,disabled:this.isLoading(),onChange:()=>{this.toggleAllContainers()}})}}var fe=Object(s.b)(e=>({activeIndex:e.groups.activeIndex}),e=>Object(b.b)({genericGroups:_,toggleContainer:G,groupStatusUpdater:F},e))(Ee),be=a(197);class Se extends o.a.PureComponent{constructor(){super(...arguments),this.state={deleteModal:!1}}renderDeleteModal(){const{groupName:e,groupId:t,deleteGroup:a}=this.props;return this.state.deleteModal?i.a.createPortal(o.a.createElement(be.a,{isShown:this.state.deleteModal,title:"Confirmation",hasHeader:!1,intent:"danger",onConfirm:()=>{a(t),this.setState({deleteModal:!1})},onCloseComplete:()=>this.setState({deleteModal:!1}),confirmLabel:"Confirm"},o.a.createElement(q.a,{size:500,marginTop:"default",marginBottom:"default"},"Are you sure you want to delete ",o.a.createElement(K.a,{color:"neutral"},e)," container group?")),document.body):null}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"trash",onClick:()=>{this.setState({deleteModal:!this.state.deleteModal})}},"Delete Group"),this.renderDeleteModal())}}var Ie=Object(s.b)(null,e=>Object(b.b)({deleteGroup:V},e))(Se);class we extends o.a.PureComponent{filterContainers(){const{group:e,containers:t}=this.props,a=JSON.parse(e.containers_id);return t.filter(e=>a.includes(e.shortId))}render(){const{group:e,genericGroups:t,index:a,activeIndex:n}=this.props,r=this.filterContainers();if(r.length<=0)return null;const i=n==a;return o.a.createElement(m.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,marginBottom:16,border:"default",className:"element-card card-active"},o.a.createElement(m.a,{display:"flex",flexGrow:1,alignItems:"center"},o.a.createElement(m.a,{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"},o.a.createElement(fe,{containers:r,groupIndex:a}),o.a.createElement(q.a,{display:"flex",alignItems:"center",className:"groupOptToggler",onClick:()=>t({activeIndex:a}),size:600},e.name,o.a.createElement(K.a,{marginLeft:6},r.length)),o.a.createElement(m.a,{display:"flex",flexGrow:1,justifyContent:"flex-end"},o.a.createElement(Ie,{groupName:e.name,groupId:e.id})))),i&&o.a.createElement(m.a,{marginLeft:30,marginTop:10},o.a.createElement(q.a,{size:400,marginLeft:14,marginTop:10,color:"#999"},"All Containers"),r.map((e,t)=>o.a.createElement(pe,{key:t,index:t,container:e,noHoverStyle:!0,showStatsInNewLine:!0}))))}}var Ce=Object(s.b)(e=>({containers:e.container.containers,activeIndex:e.groups.activeIndex}),e=>Object(b.b)({genericGroups:_},e))(we);class ye extends o.a.PureComponent{componentDidMount(){const{getGroups:e,getContainers:t}=this.props;e(),t("all")}renderGroupsList(){const{groups:e,groupListLoading:t,containerListLoading:a}=this.props;return t&&a?o.a.createElement(q.a,{size:600},"Please wait"):e.length<=0?o.a.createElement(q.a,{size:600},"No groups found, please create a new one."):e.map((e,t)=>o.a.createElement(Ce,{key:t,index:t,group:e}))}render(){return o.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},this.renderGroupsList())}}var xe=Object(s.b)(e=>({groups:e.groups.groups,groupListLoading:e.groups.groupListLoading,containerListLoading:e.container.containerListLoading}),e=>Object(b.b)({getGroups:W,getContainers:O},e))(ye);const ve=e=>({type:"GENERIC_STATS",payload:e}),Le=()=>e=>{C("get","container/stats",{}).then(t=>{e(ve({containerStats:t.data}))}).catch(e=>{console.log(e)})};var Oe=a(201),Ge=a(182),je=a(198);class De extends o.a.PureComponent{render(){const{isShowingSideSheet:e,logData:t,resetLogSideSheet:a}=this.props;return o.a.createElement(Oe.a,{width:1e3,isShown:e,onCloseComplete:a,containerProps:{display:"flex",flex:"1",flexDirection:"column"}},o.a.createElement(m.a,{zIndex:1,flexShrink:0,elevation:0,backgroundColor:"white"},t&&t.container&&o.a.createElement(m.a,{padding:16},o.a.createElement(q.a,{size:600},"Container logs"),o.a.createElement(Ge.a,{size:400},"Container Name: ".concat(t.container.Name))),!t.container&&o.a.createElement(m.a,{padding:16},o.a.createElement(q.a,{size:600},"Prune response"))),o.a.createElement(m.a,{flex:"1",overflowY:"scroll",background:"tint1",padding:16},o.a.createElement(m.a,null,t&&o.a.createElement(je.a,{marginTop:0},t.data))))}}var Re=De;a(177);const Te=e=>({type:"GENERIC_IMAGE",payload:e}),Ne=e=>({type:"RUN_IMAGE",payload:e}),Me=e=>({type:"DELETE_IMAGE",payload:e}),Pe=()=>e=>{e(Te({loading:!0,pageError:!1,activeIndex:0})),C("get","image/fetch").then(t=>{e(Te({loading:!1,images:t.data,pageError:!1}))}).catch(t=>{e(Te({loading:!1,pageError:!0}))})},ke=e=>t=>{t(Ne({imageId:e.ID,data:{stateToggling:!0}})),C("get","image/command?image=".concat(e.ID,"&command=","run")).then(a=>{t(Ne({imageId:e.ID,data:{stateToggling:!1}})),y.a.success("Image ".concat(e.ID," has been started running."),{duration:5})}).catch(a=>{t(Ne({imageId:e.ID,data:{stateToggling:!1}})),y.a.warning("There is problem running image ".concat(e.ID),{duration:5})})},Ae=(e,t)=>(a,n)=>{C("get","image/command?image=".concat(e.ID,"&command=").concat(t)).then(t=>{a(Me({imageId:e.ID,showModal:!n().image.showModal,selectedImage:{}})),y.a.success("Image ".concat(e.ID," is no more!!!."),{duration:5})}).catch(t=>{a(Me({showModal:!n().image.showModal,selectedImage:{}})),y.a.danger("Image ".concat(e.ID," can not be deleted! May be used by some containers."),{duration:5})})},ze=e=>(t,a)=>{t({type:"TOGGLE_IMAGE_MODAL",payload:{showModal:!a().image.showModal,selectedImage:e||{}}})},_e=document.getElementById("modal-root");class Be extends n.Component{constructor(e){super(e),this.el=document.createElement("div"),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){_e.appendChild(this.el)}componentWillUnmount(){_e.removeChild(this.el)}handleDelete(){this.props.container?this.props.deleteContainer(this.props.container,"rm"):(console.log("else"),this.props.deleteImage(this.props.image,"rm"))}render(){const{container:e,image:t}=this.props;return i.a.createPortal(o.a.createElement("div",{className:"modal",id:"deleteModal"},o.a.createElement(m.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:"modal-pane"},o.a.createElement(m.a,{display:"flex"},o.a.createElement(m.a,{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(q.a,{size:400},"Are you sure to delete this ".concat(e?"container":"image","?"))),o.a.createElement(m.a,null,o.a.createElement(g.a,{icon:"cross",className:"modal-close",onClick:this.props.toggleModal}))),o.a.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(q.a,{size:600},e?e.Name:t.ID)),o.a.createElement(m.a,{display:"flex",marginTop:10,justifyContent:"center",alignItems:"center"},o.a.createElement(m.a,null,o.a.createElement(p.a,{marginRight:10,height:22,onClick:this.props.toggleModal},"Cancel"),o.a.createElement(p.a,{height:22,iconBefore:"trash",onClick:this.handleDelete},"Delete"))))),this.el)}}var Fe=Object(s.b)(null,e=>Object(b.b)({deleteContainer:D,deleteImage:Ae},e))(Be);class Ue extends o.a.PureComponent{componentDidMount(){z.dispatch(z.getState().stats.isLive?e=>{e(ve({isLive:!0}))}:e=>{e(Le()),e(ve({isLive:!0})),setInterval(()=>{e(Le())},4e3)})}render(){const{showGroupsPage:e,showModal:t,selectedContainer:a,toggleDeleteModal:n,resetLogSideSheet:r,isShowingSideSheet:i,logData:s}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Z,null),o.a.createElement(Re,{resetLogSideSheet:r,isShowingSideSheet:i,logData:s}),t&&o.a.createElement(Fe,{container:a,toggleModal:n}),o.a.createElement("div",{className:"subnavaware-view"},e?o.a.createElement(xe,null):o.a.createElement(he,null)))}}var We=Object(s.b)(e=>({showGroupsPage:e.groups.showGroupsPage,showModal:e.container.showModal,selectedContainer:e.container.selectedContainer,isShowingSideSheet:e.container.isShowingSideSheet,logData:e.container.logData}),e=>Object(b.b)({toggleDeleteModal:N,resetLogSideSheet:T},e))(Ue);class Ve extends o.a.PureComponent{render(){const{image:e,activeIndex:t,genericImage:a,index:n,toggleImageDeleteModal:r,runImageToContainer:i}=this.props,s=t==n;return o.a.createElement(m.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:s?"element-card card-active":"element-card",onMouseEnter:()=>a({activeIndex:n})},o.a.createElement(m.a,{display:"flex"},o.a.createElement(m.a,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(q.a,{size:400},"".concat("<none>"!=e.Repository?e.Repository:"No Repository",": ").concat("<none>"!=e.Tag?e.Tag:"No Tag"))),o.a.createElement(K.a,{backgroundColor:"#e7e9ef",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},e.ID),o.a.createElement(K.a,{backgroundColor:"#d4eee3",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},e.Size),o.a.createElement(K.a,{backgroundColor:"#deebf7",fontWeight:"bold",borderRadius:16,paddingLeft:10,fontSize:11,paddingRight:10,marginLeft:10,marginTop:3},e.CreatedSince)),s&&o.a.createElement(m.a,{display:"flex",marginTop:12},o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"application",onClick:()=>{i(e)},isLoading:e.stateToggling},"Run"),o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"trash",onClick:()=>{r(e)}},"Delete")))}}var He=Object(s.b)(e=>({activeIndex:e.image.activeIndex}),e=>Object(b.b)({genericImage:Te,toggleImageDeleteModal:ze,runImageToContainer:ke},e))(Ve);var Je=e=>o.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},o.a.createElement(q.a,null,e.spinner?"Loading images. Please wait....":"No image on this machine"),e.spinner&&o.a.createElement(f.a,{marginX:"auto",marginY:120}));class Xe extends o.a.PureComponent{componentDidMount(){this.props.getImages()}render(){const{images:e,showModal:t,selectedImage:a,toggleImageDeleteModal:n,loading:r}=this.props;return r?o.a.createElement(Je,{spinner:!0}):0==e.length?o.a.createElement(Je,null):o.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},t&&o.a.createElement(Fe,{image:a,toggleModal:n}),e.map((e,t)=>o.a.createElement(He,{key:t,index:t,image:e})))}}var Ye=Object(s.b)(e=>({images:e.image.images,showModal:e.image.showModal,selectedImage:e.image.selectedImage,loading:e.image.loading}),e=>Object(b.b)({getImages:Pe,toggleImageDeleteModal:ze},e))(Xe);class Ze extends o.a.PureComponent{render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ye,null))}}var qe=Ze;const Ke=e=>({type:"EXECUTE_PRUNE",payload:e}),Qe=e=>(t,a)=>{t({type:"SELECTED_SEGMENT",payload:{segmentValue:e}})},$e=e=>(t,a)=>{t(Ke({apiCallStarted:!0,responseData:{},isShowingSideSheet:!1})),C("get","cleanup/command?type=".concat(e)).then(a=>{t(Ke({isShowingSideSheet:!!a.data,responseData:a.data,apiCallStarted:!1})),a.data||y.a.success("".concat(e," prune success"),{duration:5})}).catch(e=>{t(Ke({responseData:{},isShowingSideSheet:!1,apiCallStarted:!1}))})},et=()=>(e,t)=>{e(Ke({isShowingSideSheet:!t().cleanup.isShowingSideSheet,apiCallStarted:t().cleanup.apiCallStarted}))};class tt extends o.a.PureComponent{render(){const{segmentOptions:e,selectedSegment:t,setSelectedCleanUpSegment:a}=this.props;return o.a.createElement(m.a,{backgroundColor:"#f1f1f1",display:"flex",justifyContent:"center",padding:10},o.a.createElement(E.a,{width:600,height:26,options:e,value:t.value,onChange:e=>{a(e)}}))}}var at=Object(s.b)(e=>({segmentOptions:e.cleanup.segmentOptions,selectedSegment:e.cleanup.selectedSegment}),e=>Object(b.b)({setSelectedCleanUpSegment:Qe},e))(tt);class nt extends o.a.PureComponent{render(){const{selectedSegment:e,pruneCommand:t,apiCallStarted:a}=this.props;return o.a.createElement(m.a,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:20},o.a.createElement(m.a,{display:"flex",flexDirection:"column",flexGrow:1,padding:12,borderRadius:6,border:"default",className:"element-card card-active"},o.a.createElement(m.a,{display:"flex"},o.a.createElement(m.a,{display:"flex"},o.a.createElement(q.a,null,"Prune Docker ".concat(e.value,"s")))),o.a.createElement(m.a,{display:"flex",marginTop:12},o.a.createElement(Ge.a,null,e.message," ")),o.a.createElement(m.a,{display:"flex",marginTop:12},o.a.createElement(p.a,{marginRight:5,height:22,iconBefore:"trash",intent:"danger",isLoading:a,onClick:()=>{t(e.value)}},"Proceed to Prune ".concat(e.value)))))}}var ot=Object(s.b)(e=>({selectedSegment:e.cleanup.selectedSegment,apiCallStarted:e.cleanup.apiCallStarted}),e=>Object(b.b)({pruneCommand:$e},e))(nt);class rt extends o.a.PureComponent{render(){const{resetLogSideSheet:e,isShowingSideSheet:t,logData:a}=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re,{resetLogSideSheet:e,isShowingSideSheet:t,logData:a}),o.a.createElement(at,null),o.a.createElement(ot,null))}}var it=Object(s.b)(e=>({isShowingSideSheet:e.cleanup.isShowingSideSheet,logData:e.cleanup.responseData}),e=>Object(b.b)({resetLogSideSheet:et},e))(rt);var st=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,o.a.createElement(h,null),o.a.createElement(c.c,null,o.a.createElement(c.a,{path:"/",exact:!0,component:We}),o.a.createElement(c.a,{path:"/containers",exact:!0,component:We}),o.a.createElement(c.a,{path:"/images",component:qe}),o.a.createElement(c.a,{path:"/cleanup",component:it}))));i.a.render(o.a.createElement(s.a,{store:z},o.a.createElement(st,null)),document.getElementById("root"))},45:function(e,t,a){},87:function(e,t,a){e.exports=a(178)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.ff334f64.chunk.js.map